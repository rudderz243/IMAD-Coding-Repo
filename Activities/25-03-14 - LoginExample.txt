package com.example.loginexample

import android.os.Bundle
import android.widget.Button
import android.widget.EditText
import android.widget.Switch
import android.widget.Toast
import androidx.activity.enableEdgeToEdge
import androidx.appcompat.app.AppCompatActivity
import androidx.core.view.ViewCompat
import androidx.core.view.WindowInsetsCompat

class MainActivity : AppCompatActivity() {
    // AUTO GENERATED
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContentView(R.layout.activity_main)
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main)) { v, insets ->
            val systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars())
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom)
            insets
        }
        // END OF AUTOGENERATED CODE< start here!
        // linking the UI to our code
        val txtUsername = findViewById<EditText>(R.id.txtUsername)
        val txtPassword = findViewById<EditText>(R.id.txtPassword)
        val swRememberMe = findViewById<Switch>(R.id.swRememberMe)
        val btnSubmit = findViewById<Button>(R.id.btnSubmit)
        val btnReset = findViewById<Button>(R.id.btnReset)

        // choose a username and password
        val validUsername = "st10047613"
        val validPassword = "12345"

        // code for the reset button
        btnReset.setOnClickListener {
            txtUsername.text.clear()
            txtPassword.text.clear()
        }

        // do the logic for the submit button
        btnSubmit.setOnClickListener {
            val enteredUsername = txtUsername.text.toString()
            val enteredPassword = txtPassword.text.toString()
            val rememberUser = swRememberMe.isChecked

            // first, check whether the username matches
            if (enteredUsername == validUsername) {
                // THEN, check if the passwords match
                if (enteredPassword == validPassword) {
                    // IF BOTH ARE RIGHT
                    if (rememberUser) {
                        // if the user WANTS to be remembered
                        Toast.makeText(this, "Logged in successfully, and remembered.!", Toast.LENGTH_SHORT).show()
                    } else {
                        // if the user does NOT want to be remembered
                       Toast.makeText(this, "Logged in successfully, but not remembered!", Toast.LENGTH_SHORT).show()
                    }// end of the "remember me" if statement
                } else {
                    // if the password is NOT right
                    Toast.makeText(this, "The password you entered is incorrect.", Toast.LENGTH_SHORT).show()
                } // end of the password if statement
            } else {
                // if the username DOES NOT match
                Toast.makeText(this, "The username you entered is invalid.", Toast.LENGTH_SHORT).show()
            } // end of the username if statement
        } // end of the button instructions
    }
}